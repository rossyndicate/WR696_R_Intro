<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 5 Data Visualization in R | Introduction to Data Analysis in R</title>
  <meta name="description" content="This site hosts the course content for WR 696 at Colorado State University." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content=" 5 Data Visualization in R | Introduction to Data Analysis in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This site hosts the course content for WR 696 at Colorado State University." />
  <meta name="github-repo" content="rossyndicate/WR696_R_Intro" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 5 Data Visualization in R | Introduction to Data Analysis in R" />
  
  <meta name="twitter:description" content="This site hosts the course content for WR 696 at Colorado State University." />
  

<meta name="author" content="Caitlin C. Mothes, PhD and Katie Willi" />


<meta name="date" content="2023-09-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exploratory-data-analysis.html"/>
<link rel="next" href="data-analysis-t-test-and-anova.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Data Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#set-up-instructions"><i class="fa fa-check"></i>Set up Instructions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#navigating-this-site"><i class="fa fa-check"></i>Navigating this site</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#approach-and-expectations"><i class="fa fa-check"></i>Approach and Expectations</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#class-schedule"><i class="fa fa-check"></i>Class Schedule</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#additional-introductory-resources"><i class="fa fa-check"></i>Additional introductory resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-instructions.html"><a href="setup-instructions.html"><i class="fa fa-check"></i><b>2</b> Setup Instructions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-instructions.html"><a href="setup-instructions.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="setup-instructions.html"><a href="setup-instructions.html#package-installation"><i class="fa fa-check"></i><b>2.2</b> Package Installation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>3</b> Introduction to R, RStudio and R Markdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#getting-to-know-rstudio"><i class="fa fa-check"></i><b>3.1</b> Getting to know RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#r-projects"><i class="fa fa-check"></i><b>3.2</b> R Projects</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#write-a-set-up-script"><i class="fa fa-check"></i><b>3.3</b> Write a set-up script</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#functions"><i class="fa fa-check"></i><b>3.3.1</b> Functions</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#packages"><i class="fa fa-check"></i><b>3.3.2</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>3.4</b> R Markdown</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#what-about-quarto"><i class="fa fa-check"></i><b>3.4.1</b> What About Quarto?</a></li>
<li class="chapter" data-level="3.4.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#getting-started-with-r-markdown"><i class="fa fa-check"></i><b>3.4.2</b> Getting started with R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#explore"><i class="fa fa-check"></i><b>3.5</b> Explore</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#the-penguins-data"><i class="fa fa-check"></i><b>3.5.1</b> The <code>penguins</code> data</a></li>
<li class="chapter" data-level="3.5.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#data-types"><i class="fa fa-check"></i><b>3.5.2</b> Data Types</a></li>
<li class="chapter" data-level="3.5.3" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#indexing"><i class="fa fa-check"></i><b>3.5.3</b> Indexing</a></li>
<li class="chapter" data-level="3.5.4" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#the-dplyr-package"><i class="fa fa-check"></i><b>3.5.4</b> The {dplyr} package</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#read-and-write-data"><i class="fa fa-check"></i><b>3.6</b> Read and Write Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#the-penguins-data-1"><i class="fa fa-check"></i><b>4.0.1</b> The <code>penguins</code> data</a></li>
<li class="chapter" data-level="4.0.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>4.0.2</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-wrangling"><i class="fa fa-check"></i><b>4.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#the-dplyr-package-1"><i class="fa fa-check"></i><b>4.1.1</b> The <code>dplyr</code> package</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-2"><i class="fa fa-check"></i><b>4.2</b> Exercises</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualization"><i class="fa fa-check"></i><b>4.3</b> Visualization</a></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-3"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html"><i class="fa fa-check"></i><b>5</b> Data Visualization in R</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#data-preparation"><i class="fa fa-check"></i><b>5.0.1</b> Data Preparation</a></li>
<li class="chapter" data-level="5.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#publication-ready-figures-with-ggplot2"><i class="fa fa-check"></i><b>5.1</b> Publication Ready Figures with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#general-appearance"><i class="fa fa-check"></i><b>5.1.1</b> General Appearance</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#color-size-and-legends"><i class="fa fa-check"></i><b>5.1.2</b> Color, Size and Legends</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#annotation"><i class="fa fa-check"></i><b>5.1.3</b> Annotation</a></li>
<li class="chapter" data-level="5.1.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#finalize-and-save"><i class="fa fa-check"></i><b>5.1.4</b> Finalize and save</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#the-assignment"><i class="fa fa-check"></i><b>5.2</b> The Assignment</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#acknowledgements-and-resources"><i class="fa fa-check"></i><b>5.2.1</b> Acknowledgements and Resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html"><i class="fa fa-check"></i><b>6</b> Data Analysis: T-test and ANOVA</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#explore-the-dataset"><i class="fa fa-check"></i><b>6.1</b> Explore the dataset</a></li>
<li class="chapter" data-level="6.2" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#t-test---compare-two-means"><i class="fa fa-check"></i><b>6.2</b> t-test - Compare two means</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#assumptions"><i class="fa fa-check"></i><b>6.2.1</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#anova-test---compare-more-than-two-means"><i class="fa fa-check"></i><b>6.3</b> ANOVA test - compare more than two means</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#assumptions-1"><i class="fa fa-check"></i><b>6.3.1</b> Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#exercises-4"><i class="fa fa-check"></i><b>6.4</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#acknowledgements"><i class="fa fa-check"></i><b>6.4.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-analysis-t-test-and-anova.html"><a href="data-analysis-t-test-and-anova.html#citations"><i class="fa fa-check"></i><b>6.4.2</b> Citations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html"><i class="fa fa-check"></i><b>7</b> Correlation and Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="7.1" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#correlation-with-salamanders"><i class="fa fa-check"></i><b>7.1</b> Correlation with salamanders</a></li>
<li class="chapter" data-level="7.2" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#simple-linear-regression-with-crabs"><i class="fa fa-check"></i><b>7.2</b> Simple linear regression with crabs</a></li>
<li class="chapter" data-level="7.3" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#exercises-5"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
<li class="chapter" data-level="7.4" data-path="correlation-and-simple-linear-regression.html"><a href="correlation-and-simple-linear-regression.html#citations-1"><i class="fa fa-check"></i><b>7.4</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html"><i class="fa fa-check"></i><b>8</b> Multiple Linear Regression (MLR)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#mlr-in-r"><i class="fa fa-check"></i><b>8.1</b> MLR in R</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#predicting-crab-size-1"><i class="fa fa-check"></i><b>8.1.1</b> Predicting crab size</a></li>
<li class="chapter" data-level="8.1.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#mlr-assumptions"><i class="fa fa-check"></i><b>8.1.2</b> MLR Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercises-6"><i class="fa fa-check"></i><b>8.2</b> Exercises</a></li>
<li class="chapter" data-level="8.3" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#citations-2"><i class="fa fa-check"></i><b>8.3</b> Citations</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization-in-r" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number"> 5</span> Data Visualization in R<a href="data-visualization-in-r.html#data-visualization-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This lesson will go a little deeper into data visualization and how to customize figures and tables and make them ‘publication ready’.</p>
<p>First start by reading in the packages for this lesson, which in this case is only the {tidyverse}:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="data-visualization-in-r.html#cb83-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div id="data-preparation" class="section level3 hasAnchor" number="5.0.1">
<h3><span class="header-section-number">5.0.1</span> Data Preparation<a href="data-visualization-in-r.html#data-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For today’s lesson we are going to be working with some census data for Larimer County, CO. This data can be found on Canvas in .csv format titled <code>larimer_census.csv</code>. Download that file and put it in a <code>data/</code> folder in the your R Project.</p>
<p>After that, read the .csv into your R session using <code>read_csv()</code>:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="data-visualization-in-r.html#cb84-1" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/larimer_census.csv&quot;</span>)</span></code></pre></div>
<p>Inspect <code>census_data</code> and the structure of the data frame. This data contains information on median income, median age, and race and ethnicity for each census tract in Larimer County.</p>
<div class="alert alert-info">
<p>Note: This census data for Larimer county was retrieved entirely in R using the <code>tidycensus</code> package. If you are interested in how I did this, I’ve uploaded the script to do so on Canvas titled ‘getCensusData.R’. Note that you will need to retrieve your own census API key and paste it at the top of the script to run it (API keys are free and easy to get <a href="https://api.census.gov/data/key_signup.html">here</a>). To learn more about <code>tidycensus</code>, check out <a href="https://walker-data.com/census-r/index.html">Analyzing U.S. Census Data</a> by Kyle Walker.</p>
</div>
<hr>
</div>
<div id="publication-ready-figures-with-ggplot2" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Publication Ready Figures with <code>ggplot2</code><a href="data-visualization-in-r.html#publication-ready-figures-with-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this exercise you will learn how to spruce up your <code>ggplot2</code> figures with theme customization, annotation, color palettes, and more.</p>
<p>To demonstrate some of these advanced visualization techniques, we will be analyzing the relationships among some census data for Larimer county.</p>
<p>Let’s start with this basic plot:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="data-visualization-in-r.html#cb85-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb85-2"><a href="data-visualization-in-r.html#cb85-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc))<span class="sc">+</span></span>
<span id="cb85-3"><a href="data-visualization-in-r.html#cb85-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>And by the end of this lesson turn it into this:</p>
<p><img src="images/census_plot.png" /></p>
<div id="general-appearance" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> General Appearance<a href="data-visualization-in-r.html#general-appearance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="customize-points-within-geom_point" class="section level4 hasAnchor" number="5.1.1.1">
<h4><span class="header-section-number">5.1.1.1</span> Customize points within <code>geom_point()</code><a href="data-visualization-in-r.html#customize-points-within-geom_point" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>color or size points by a variable or apply a specific color/number</p></li>
<li><p>change the transparency with <code>alpha</code> (ranges from 0-1)</p></li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="data-visualization-in-r.html#cb86-1" tabindex="-1"></a><span class="co">#specific color and size value</span></span>
<span id="cb86-2"><a href="data-visualization-in-r.html#cb86-2" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb86-3"><a href="data-visualization-in-r.html#cb86-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc))<span class="sc">+</span></span>
<span id="cb86-4"><a href="data-visualization-in-r.html#cb86-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>When sizing or coloring points by a variable in the dataset, it goes within <code>aes():</code></p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="data-visualization-in-r.html#cb87-1" tabindex="-1"></a><span class="co"># size by a variable</span></span>
<span id="cb87-2"><a href="data-visualization-in-r.html#cb87-2" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb87-3"><a href="data-visualization-in-r.html#cb87-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc))<span class="sc">+</span></span>
<span id="cb87-4"><a href="data-visualization-in-r.html#cb87-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="data-visualization-in-r.html#cb88-1" tabindex="-1"></a><span class="co"># color by a variable</span></span>
<span id="cb88-2"><a href="data-visualization-in-r.html#cb88-2" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="data-visualization-in-r.html#cb88-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc))<span class="sc">+</span></span>
<span id="cb88-4"><a href="data-visualization-in-r.html#cb88-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> median_income), <span class="at">size =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="titles-and-limits" class="section level4 hasAnchor" number="5.1.1.2">
<h4><span class="header-section-number">5.1.1.2</span> Titles and limits<a href="data-visualization-in-r.html#titles-and-limits" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>add title with <code>ggtitle</code></p></li>
<li><p>edit axis labels with <code>xlab()</code> and <code>ylab()</code></p></li>
<li><p>change axis limits with <code>xlim()</code> and <code>ylim()</code></p></li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="data-visualization-in-r.html#cb89-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="data-visualization-in-r.html#cb89-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb89-3"><a href="data-visualization-in-r.html#cb89-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)<span class="sc">+</span></span>
<span id="cb89-4"><a href="data-visualization-in-r.html#cb89-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>)<span class="sc">+</span></span>
<span id="cb89-5"><a href="data-visualization-in-r.html#cb89-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>)<span class="sc">+</span></span>
<span id="cb89-6"><a href="data-visualization-in-r.html#cb89-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb89-7"><a href="data-visualization-in-r.html#cb89-7" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">70</span>))<span class="sc">+</span></span>
<span id="cb89-8"><a href="data-visualization-in-r.html#cb89-8" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">35</span>))</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Be cautious of setting the axis limits however, as you notice it omits the full dataset which could lead to dangerous misinterpretations of the data.</p>
<p>You can also put multiple label arguments within <code>labs()</code> like this:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="data-visualization-in-r.html#cb90-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="data-visualization-in-r.html#cb90-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb90-3"><a href="data-visualization-in-r.html#cb90-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)<span class="sc">+</span></span>
<span id="cb90-4"><a href="data-visualization-in-r.html#cb90-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb90-5"><a href="data-visualization-in-r.html#cb90-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb90-6"><a href="data-visualization-in-r.html#cb90-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb90-7"><a href="data-visualization-in-r.html#cb90-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span></span>
<span id="cb90-8"><a href="data-visualization-in-r.html#cb90-8" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb90-9"><a href="data-visualization-in-r.html#cb90-9" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">70</span>))<span class="sc">+</span></span>
<span id="cb90-10"><a href="data-visualization-in-r.html#cb90-10" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">35</span>))</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="chart-components-with-theme" class="section level4 hasAnchor" number="5.1.1.3">
<h4><span class="header-section-number">5.1.1.3</span> Chart components with <code>theme()</code><a href="data-visualization-in-r.html#chart-components-with-theme" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>All <code>ggplot2</code> components can be customized within the <code>theme()</code> function. The full list of editable components (there’s a lot!) can be found <a href="https://ggplot2.tidyverse.org/reference/theme.html">here</a>. Note that the functions used within <code>theme()</code> depend on the type of components, such as <code>element_text()</code> for text, <code>element_line()</code> for lines, etc.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="data-visualization-in-r.html#cb91-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb91-2"><a href="data-visualization-in-r.html#cb91-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb91-3"><a href="data-visualization-in-r.html#cb91-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb91-4"><a href="data-visualization-in-r.html#cb91-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb91-5"><a href="data-visualization-in-r.html#cb91-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb91-6"><a href="data-visualization-in-r.html#cb91-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb91-7"><a href="data-visualization-in-r.html#cb91-7" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb91-8"><a href="data-visualization-in-r.html#cb91-8" tabindex="-1"></a>    <span class="co">#edit plot title</span></span>
<span id="cb91-9"><a href="data-visualization-in-r.html#cb91-9" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb91-10"><a href="data-visualization-in-r.html#cb91-10" tabindex="-1"></a>    <span class="co"># edit x axis title</span></span>
<span id="cb91-11"><a href="data-visualization-in-r.html#cb91-11" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">color =</span> <span class="st">&quot;orange&quot;</span>),</span>
<span id="cb91-12"><a href="data-visualization-in-r.html#cb91-12" tabindex="-1"></a>    <span class="co"># edit y axis ticks</span></span>
<span id="cb91-13"><a href="data-visualization-in-r.html#cb91-13" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb91-14"><a href="data-visualization-in-r.html#cb91-14" tabindex="-1"></a>    <span class="co"># edit grid lines</span></span>
<span id="cb91-15"><a href="data-visualization-in-r.html#cb91-15" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb91-16"><a href="data-visualization-in-r.html#cb91-16" tabindex="-1"></a></span>
<span id="cb91-17"><a href="data-visualization-in-r.html#cb91-17" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Another change you may want to make is the value breaks in the axis labels (i.e., what values are shown on the axis). To customize that for a continuous variable you can use <code>scale_x_continuous()</code> / <code>scale_y_continuous</code> (for discrete variables use <code>scale_x_discrete</code> ). In this example we will also add <code>anlge =</code> to our axis text to angle the labels so they are not too jumbled:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-visualization-in-r.html#cb92-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb92-2"><a href="data-visualization-in-r.html#cb92-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb92-3"><a href="data-visualization-in-r.html#cb92-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb92-4"><a href="data-visualization-in-r.html#cb92-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb92-5"><a href="data-visualization-in-r.html#cb92-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb92-6"><a href="data-visualization-in-r.html#cb92-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb92-7"><a href="data-visualization-in-r.html#cb92-7" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">15</span>, <span class="dv">90</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb92-8"><a href="data-visualization-in-r.html#cb92-8" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb92-9"><a href="data-visualization-in-r.html#cb92-9" tabindex="-1"></a>    <span class="co"># angle axis labels</span></span>
<span id="cb92-10"><a href="data-visualization-in-r.html#cb92-10" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>)</span>
<span id="cb92-11"><a href="data-visualization-in-r.html#cb92-11" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>While these edits aren’t necessarily <em>pretty</em>, we are just demonstrating how you would edit specific components of your charts. To edit overall aesthetics of your plots you can change the theme.</p>
</div>
<div id="themes" class="section level4 hasAnchor" number="5.1.1.4">
<h4><span class="header-section-number">5.1.1.4</span> Themes<a href="data-visualization-in-r.html#themes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>ggplot2</code> comes with many built in theme options (see the complete list <a href="https://r-graph-gallery.com/192-ggplot-themes">here</a>).</p>
<p>For example, see what <code>theme_minimal()</code> and <code>theme_classic()</code> look like:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-visualization-in-r.html#cb93-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb93-2"><a href="data-visualization-in-r.html#cb93-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb93-3"><a href="data-visualization-in-r.html#cb93-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb93-4"><a href="data-visualization-in-r.html#cb93-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb93-5"><a href="data-visualization-in-r.html#cb93-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb93-6"><a href="data-visualization-in-r.html#cb93-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb93-7"><a href="data-visualization-in-r.html#cb93-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-visualization-in-r.html#cb94-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb94-2"><a href="data-visualization-in-r.html#cb94-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb94-3"><a href="data-visualization-in-r.html#cb94-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb94-4"><a href="data-visualization-in-r.html#cb94-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb94-5"><a href="data-visualization-in-r.html#cb94-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb94-6"><a href="data-visualization-in-r.html#cb94-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb94-7"><a href="data-visualization-in-r.html#cb94-7" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>You can also import many different themes by installing certain packages. A popular one is <code>ggthemes</code>. A complete list of themes with this package can be seen <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">here</a></p>
<p>To run this example, first install the <code>ggthemes</code> package and then load it in to your session:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-visualization-in-r.html#cb95-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggthemes&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-visualization-in-r.html#cb96-1" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code></pre></div>
<p>Now explore a few themes, such as <code>theme_wsj</code>, which uses the Wall Street Journal theme, and <code>theme_economist</code> and <code>theme_economist_white</code> to use themes used by the Economist.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-visualization-in-r.html#cb97-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href="data-visualization-in-r.html#cb97-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb97-3"><a href="data-visualization-in-r.html#cb97-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb97-4"><a href="data-visualization-in-r.html#cb97-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb97-5"><a href="data-visualization-in-r.html#cb97-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb97-6"><a href="data-visualization-in-r.html#cb97-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb97-7"><a href="data-visualization-in-r.html#cb97-7" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_wsj</span>()<span class="sc">+</span></span>
<span id="cb97-8"><a href="data-visualization-in-r.html#cb97-8" tabindex="-1"></a>  <span class="co"># make the text smaller</span></span>
<span id="cb97-9"><a href="data-visualization-in-r.html#cb97-9" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>))</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="alert alert-info">
<p>Note you may need to click ‘Zoom’ in the Plot window to view the figure better.</p>
</div>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-visualization-in-r.html#cb98-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="data-visualization-in-r.html#cb98-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb98-3"><a href="data-visualization-in-r.html#cb98-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb98-4"><a href="data-visualization-in-r.html#cb98-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb98-5"><a href="data-visualization-in-r.html#cb98-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb98-6"><a href="data-visualization-in-r.html#cb98-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb98-7"><a href="data-visualization-in-r.html#cb98-7" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Some themes may look messy out of the box, but you can apply any elements from <code>theme()</code> afterwards to clean it up. For example, change the legend position:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-visualization-in-r.html#cb99-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb99-2"><a href="data-visualization-in-r.html#cb99-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb99-3"><a href="data-visualization-in-r.html#cb99-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-4"><a href="data-visualization-in-r.html#cb99-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-5"><a href="data-visualization-in-r.html#cb99-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-6"><a href="data-visualization-in-r.html#cb99-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb99-7"><a href="data-visualization-in-r.html#cb99-7" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_economist</span>()<span class="sc">+</span></span>
<span id="cb99-8"><a href="data-visualization-in-r.html#cb99-8" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb99-9"><a href="data-visualization-in-r.html#cb99-9" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb99-10"><a href="data-visualization-in-r.html#cb99-10" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
</div>
<div id="color-size-and-legends" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Color, Size and Legends<a href="data-visualization-in-r.html#color-size-and-legends" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="color" class="section level4 hasAnchor" number="5.1.2.1">
<h4><span class="header-section-number">5.1.2.1</span> Color<a href="data-visualization-in-r.html#color" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To specify a single color, the most common way is to specify the name (e.g., <code>"red"</code>) or the Hex code (e.g., <code>"#69b3a2"</code>).</p>
<p>You can also specify an entire color palette. Some of the most common packages to work with color palettes in R are <code>RColorBrewer</code> and <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html"><code>viridis</code></a>. Viridis is designed to be color-blind friendly, and RColorBrewer has a <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">web application</a> where you can explore your data requirements and preview various palettes.</p>
<p>First, if you want to run these examples install and load the <code>RColorBrewer</code> and <code>viridis</code> packages:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-visualization-in-r.html#cb100-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb100-2"><a href="data-visualization-in-r.html#cb100-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;viridis&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-visualization-in-r.html#cb101-1" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb101-2"><a href="data-visualization-in-r.html#cb101-2" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code></pre></div>
<p>Now, lets color our points using the palettes in <code>viridis</code>. To customize continuous color scales with <code>viridis</code> we use <code>scale_color_viridis()</code>.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-visualization-in-r.html#cb102-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a href="data-visualization-in-r.html#cb102-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb102-3"><a href="data-visualization-in-r.html#cb102-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb102-4"><a href="data-visualization-in-r.html#cb102-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb102-5"><a href="data-visualization-in-r.html#cb102-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb102-6"><a href="data-visualization-in-r.html#cb102-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb102-7"><a href="data-visualization-in-r.html#cb102-7" tabindex="-1"></a>  viridis<span class="sc">::</span><span class="fu">scale_colour_viridis</span>()</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Second, let’s see how to do that with an <code>RColorBrewer</code> palette, using the ‘Greens’ palette and <code>scale_color_distiller()</code> function. We add <code>direction = 1</code> to make it so that darker green is associated with higher values for income.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-visualization-in-r.html#cb103-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb103-2"><a href="data-visualization-in-r.html#cb103-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb103-3"><a href="data-visualization-in-r.html#cb103-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb103-4"><a href="data-visualization-in-r.html#cb103-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-5"><a href="data-visualization-in-r.html#cb103-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb103-6"><a href="data-visualization-in-r.html#cb103-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb103-7"><a href="data-visualization-in-r.html#cb103-7" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="size" class="section level4 hasAnchor" number="5.1.2.2">
<h4><span class="header-section-number">5.1.2.2</span> Size<a href="data-visualization-in-r.html#size" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can edit the range of the point radius with <code>scale_radius</code> :</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-visualization-in-r.html#cb104-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb104-2"><a href="data-visualization-in-r.html#cb104-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb104-3"><a href="data-visualization-in-r.html#cb104-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb104-4"><a href="data-visualization-in-r.html#cb104-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-5"><a href="data-visualization-in-r.html#cb104-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-6"><a href="data-visualization-in-r.html#cb104-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb104-7"><a href="data-visualization-in-r.html#cb104-7" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb104-8"><a href="data-visualization-in-r.html#cb104-8" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">6</span>))</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="legends" class="section level4 hasAnchor" number="5.1.2.3">
<h4><span class="header-section-number">5.1.2.3</span> Legends<a href="data-visualization-in-r.html#legends" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the previous plots we notice that two separate legends are created for size and color. To create one legend where the circles are colored, we use <code>guides()</code> like this, specifying the same title for color and size:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-visualization-in-r.html#cb105-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb105-2"><a href="data-visualization-in-r.html#cb105-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb105-3"><a href="data-visualization-in-r.html#cb105-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb105-4"><a href="data-visualization-in-r.html#cb105-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb105-5"><a href="data-visualization-in-r.html#cb105-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb105-6"><a href="data-visualization-in-r.html#cb105-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb105-7"><a href="data-visualization-in-r.html#cb105-7" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb105-8"><a href="data-visualization-in-r.html#cb105-8" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb105-9"><a href="data-visualization-in-r.html#cb105-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb105-10"><a href="data-visualization-in-r.html#cb105-10" tabindex="-1"></a>  <span class="co">#customize legend</span></span>
<span id="cb105-11"><a href="data-visualization-in-r.html#cb105-11" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color=</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>), <span class="at">size=</span><span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>))</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
</div>
<div id="annotation" class="section level3 hasAnchor" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Annotation<a href="data-visualization-in-r.html#annotation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Annotation is the process of adding text, or ‘notes’ to your charts. Say we wanted to highlight some details to specific points in our data, for example some of the outliers.</p>
<p>When investigating the outlying point with the highest median age and high percentage of people of color, it turns out that census tract includes Rocky Mountain National Park and the surrounding area, and also the total population of that tract is only 53. Lets add these details to our chart with <code>annotate()</code>. This function requires several arguments:</p>
<ul>
<li><p><code>geom</code>: type of annotation, most often <code>text</code></p></li>
<li><p><code>x</code>: position on the x axis to put the annotation</p></li>
<li><p><code>y</code>: position on the y axis to put the annotation</p></li>
<li><p><code>label</code>: what you want the annotation to say</p></li>
<li><p>Optional: <code>color</code>, <code>size</code>, <code>angle</code>, and more.</p></li>
</ul>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-visualization-in-r.html#cb106-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb106-2"><a href="data-visualization-in-r.html#cb106-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb106-3"><a href="data-visualization-in-r.html#cb106-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb106-4"><a href="data-visualization-in-r.html#cb106-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb106-5"><a href="data-visualization-in-r.html#cb106-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb106-6"><a href="data-visualization-in-r.html#cb106-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb106-7"><a href="data-visualization-in-r.html#cb106-7" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb106-8"><a href="data-visualization-in-r.html#cb106-8" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb106-9"><a href="data-visualization-in-r.html#cb106-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb106-10"><a href="data-visualization-in-r.html#cb106-10" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color=</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>), <span class="at">size=</span><span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>))<span class="sc">+</span></span>
<span id="cb106-11"><a href="data-visualization-in-r.html#cb106-11" tabindex="-1"></a>  <span class="co"># add annotation</span></span>
<span id="cb106-12"><a href="data-visualization-in-r.html#cb106-12" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">76</span>, <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb106-13"><a href="data-visualization-in-r.html#cb106-13" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>)</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>We can also add an arrow to point at the data point the annotation is referring to with <code>geom_curve</code> and a few other arguments like so:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-visualization-in-r.html#cb107-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb107-2"><a href="data-visualization-in-r.html#cb107-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb107-3"><a href="data-visualization-in-r.html#cb107-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb107-4"><a href="data-visualization-in-r.html#cb107-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb107-5"><a href="data-visualization-in-r.html#cb107-5" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb107-6"><a href="data-visualization-in-r.html#cb107-6" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb107-7"><a href="data-visualization-in-r.html#cb107-7" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb107-8"><a href="data-visualization-in-r.html#cb107-8" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb107-9"><a href="data-visualization-in-r.html#cb107-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb107-10"><a href="data-visualization-in-r.html#cb107-10" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb107-11"><a href="data-visualization-in-r.html#cb107-11" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb107-12"><a href="data-visualization-in-r.html#cb107-12" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb107-13"><a href="data-visualization-in-r.html#cb107-13" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb107-14"><a href="data-visualization-in-r.html#cb107-14" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb107-15"><a href="data-visualization-in-r.html#cb107-15" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>) <span class="sc">+</span></span>
<span id="cb107-16"><a href="data-visualization-in-r.html#cb107-16" tabindex="-1"></a>  <span class="co"># add arrow</span></span>
<span id="cb107-17"><a href="data-visualization-in-r.html#cb107-17" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb107-18"><a href="data-visualization-in-r.html#cb107-18" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb107-19"><a href="data-visualization-in-r.html#cb107-19" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb107-20"><a href="data-visualization-in-r.html#cb107-20" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb107-21"><a href="data-visualization-in-r.html#cb107-21" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb107-22"><a href="data-visualization-in-r.html#cb107-22" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb107-23"><a href="data-visualization-in-r.html#cb107-23" tabindex="-1"></a>    ),</span>
<span id="cb107-24"><a href="data-visualization-in-r.html#cb107-24" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb107-25"><a href="data-visualization-in-r.html#cb107-25" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb107-26"><a href="data-visualization-in-r.html#cb107-26" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb107-27"><a href="data-visualization-in-r.html#cb107-27" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<p><img src="04-viz_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div class="alert alert-info">
<p>Note that with annotations you may need to mess around with the x and y positions to get it just right. Also, the preview you see in the ‘plot’ window may look jumbled and viewing it by clicking ‘Zoom’ can help.</p>
</div>
</div>
<div id="finalize-and-save" class="section level3 hasAnchor" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> Finalize and save<a href="data-visualization-in-r.html#finalize-and-save" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are almost done with this figure. I am going to add/change a few more elements below. Feel free to add your own!</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-visualization-in-r.html#cb109-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb109-2"><a href="data-visualization-in-r.html#cb109-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb109-3"><a href="data-visualization-in-r.html#cb109-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb109-4"><a href="data-visualization-in-r.html#cb109-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb109-5"><a href="data-visualization-in-r.html#cb109-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb109-6"><a href="data-visualization-in-r.html#cb109-6" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb109-7"><a href="data-visualization-in-r.html#cb109-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb109-8"><a href="data-visualization-in-r.html#cb109-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb109-9"><a href="data-visualization-in-r.html#cb109-9" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb109-10"><a href="data-visualization-in-r.html#cb109-10" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb109-11"><a href="data-visualization-in-r.html#cb109-11" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb109-12"><a href="data-visualization-in-r.html#cb109-12" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb109-13"><a href="data-visualization-in-r.html#cb109-13" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb109-14"><a href="data-visualization-in-r.html#cb109-14" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb109-15"><a href="data-visualization-in-r.html#cb109-15" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb109-16"><a href="data-visualization-in-r.html#cb109-16" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb109-17"><a href="data-visualization-in-r.html#cb109-17" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb109-18"><a href="data-visualization-in-r.html#cb109-18" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb109-19"><a href="data-visualization-in-r.html#cb109-19" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb109-20"><a href="data-visualization-in-r.html#cb109-20" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>),</span>
<span id="cb109-21"><a href="data-visualization-in-r.html#cb109-21" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb109-22"><a href="data-visualization-in-r.html#cb109-22" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb109-23"><a href="data-visualization-in-r.html#cb109-23" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb109-24"><a href="data-visualization-in-r.html#cb109-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb109-25"><a href="data-visualization-in-r.html#cb109-25" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb109-26"><a href="data-visualization-in-r.html#cb109-26" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb109-27"><a href="data-visualization-in-r.html#cb109-27" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb109-28"><a href="data-visualization-in-r.html#cb109-28" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>,</span>
<span id="cb109-29"><a href="data-visualization-in-r.html#cb109-29" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb109-30"><a href="data-visualization-in-r.html#cb109-30" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb109-31"><a href="data-visualization-in-r.html#cb109-31" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb109-32"><a href="data-visualization-in-r.html#cb109-32" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb109-33"><a href="data-visualization-in-r.html#cb109-33" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb109-34"><a href="data-visualization-in-r.html#cb109-34" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb109-35"><a href="data-visualization-in-r.html#cb109-35" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb109-36"><a href="data-visualization-in-r.html#cb109-36" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb109-37"><a href="data-visualization-in-r.html#cb109-37" tabindex="-1"></a>    ),</span>
<span id="cb109-38"><a href="data-visualization-in-r.html#cb109-38" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb109-39"><a href="data-visualization-in-r.html#cb109-39" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb109-40"><a href="data-visualization-in-r.html#cb109-40" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb109-41"><a href="data-visualization-in-r.html#cb109-41" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb109-42"><a href="data-visualization-in-r.html#cb109-42" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p><strong>Want to make it dark theme?</strong></p>
<p><code>ggdark</code> is a fun package to easily convert your figures to various dark themes. If you want to test it out, install the package and try <code>dark_theme_classic()</code> instead of <code>theme_classic()</code> in the previous figure:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-visualization-in-r.html#cb110-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggdark&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-visualization-in-r.html#cb111-1" tabindex="-1"></a><span class="fu">library</span>(ggdark)</span></code></pre></div>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-visualization-in-r.html#cb112-1" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb112-2"><a href="data-visualization-in-r.html#cb112-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb112-3"><a href="data-visualization-in-r.html#cb112-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb112-4"><a href="data-visualization-in-r.html#cb112-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb112-5"><a href="data-visualization-in-r.html#cb112-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb112-6"><a href="data-visualization-in-r.html#cb112-6" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb112-7"><a href="data-visualization-in-r.html#cb112-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb112-8"><a href="data-visualization-in-r.html#cb112-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb112-9"><a href="data-visualization-in-r.html#cb112-9" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb112-10"><a href="data-visualization-in-r.html#cb112-10" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb112-11"><a href="data-visualization-in-r.html#cb112-11" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb112-12"><a href="data-visualization-in-r.html#cb112-12" tabindex="-1"></a>  <span class="fu">dark_theme_classic</span>() <span class="sc">+</span></span>
<span id="cb112-13"><a href="data-visualization-in-r.html#cb112-13" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb112-14"><a href="data-visualization-in-r.html#cb112-14" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb112-15"><a href="data-visualization-in-r.html#cb112-15" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb112-16"><a href="data-visualization-in-r.html#cb112-16" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb112-17"><a href="data-visualization-in-r.html#cb112-17" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb112-18"><a href="data-visualization-in-r.html#cb112-18" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb112-19"><a href="data-visualization-in-r.html#cb112-19" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb112-20"><a href="data-visualization-in-r.html#cb112-20" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>),</span>
<span id="cb112-21"><a href="data-visualization-in-r.html#cb112-21" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb112-22"><a href="data-visualization-in-r.html#cb112-22" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb112-23"><a href="data-visualization-in-r.html#cb112-23" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb112-24"><a href="data-visualization-in-r.html#cb112-24" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb112-25"><a href="data-visualization-in-r.html#cb112-25" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb112-26"><a href="data-visualization-in-r.html#cb112-26" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb112-27"><a href="data-visualization-in-r.html#cb112-27" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb112-28"><a href="data-visualization-in-r.html#cb112-28" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>,</span>
<span id="cb112-29"><a href="data-visualization-in-r.html#cb112-29" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb112-30"><a href="data-visualization-in-r.html#cb112-30" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb112-31"><a href="data-visualization-in-r.html#cb112-31" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb112-32"><a href="data-visualization-in-r.html#cb112-32" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb112-33"><a href="data-visualization-in-r.html#cb112-33" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb112-34"><a href="data-visualization-in-r.html#cb112-34" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb112-35"><a href="data-visualization-in-r.html#cb112-35" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb112-36"><a href="data-visualization-in-r.html#cb112-36" tabindex="-1"></a>    ),</span>
<span id="cb112-37"><a href="data-visualization-in-r.html#cb112-37" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb112-38"><a href="data-visualization-in-r.html#cb112-38" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb112-39"><a href="data-visualization-in-r.html#cb112-39" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb112-40"><a href="data-visualization-in-r.html#cb112-40" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="04-viz_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p><strong>Saving with <code>ggsave</code></strong></p>
<p>You can save your plot in the “Plots” pane by clicking “Export”, or you can also do it programmatically with <code>ggsave()</code>, which also lets you customize the output file a little more. Note that you can give the argument a variable name of a ggplot object, or <strong>by default it will save the last plot in the “Plots” pane</strong>.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="data-visualization-in-r.html#cb113-1" tabindex="-1"></a><span class="co">#specify the file path and name, and height/width (if necessary)</span></span>
<span id="cb113-2"><a href="data-visualization-in-r.html#cb113-2" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">&quot;data/census_plot.png&quot;</span>, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">units =</span> <span class="st">&quot;in&quot;</span>)</span></code></pre></div>
<div id="want-to-make-it-interactive" class="section level4 hasAnchor" number="5.1.4.1">
<h4><span class="header-section-number">5.1.4.1</span> Want to make it interactive?<a href="data-visualization-in-r.html#want-to-make-it-interactive" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>plotly</code> package and the <code>ggplotly()</code> function lets you make your charts interactive.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="data-visualization-in-r.html#cb114-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-visualization-in-r.html#cb115-1" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<p>We can put our entire ggplot code above inside <code>ggplotly()</code> below to make it interactive:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-visualization-in-r.html#cb116-1" tabindex="-1"></a><span class="fu">ggplotly</span>(census_data <span class="sc">%&gt;%</span></span>
<span id="cb116-2"><a href="data-visualization-in-r.html#cb116-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> percent_bipoc)) <span class="sc">+</span></span>
<span id="cb116-3"><a href="data-visualization-in-r.html#cb116-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb116-4"><a href="data-visualization-in-r.html#cb116-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb116-5"><a href="data-visualization-in-r.html#cb116-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb116-6"><a href="data-visualization-in-r.html#cb116-6" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb116-7"><a href="data-visualization-in-r.html#cb116-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb116-8"><a href="data-visualization-in-r.html#cb116-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb116-9"><a href="data-visualization-in-r.html#cb116-9" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb116-10"><a href="data-visualization-in-r.html#cb116-10" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb116-11"><a href="data-visualization-in-r.html#cb116-11" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb116-12"><a href="data-visualization-in-r.html#cb116-12" tabindex="-1"></a>  <span class="fu">dark_theme_classic</span>() <span class="sc">+</span></span>
<span id="cb116-13"><a href="data-visualization-in-r.html#cb116-13" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb116-14"><a href="data-visualization-in-r.html#cb116-14" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb116-15"><a href="data-visualization-in-r.html#cb116-15" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb116-16"><a href="data-visualization-in-r.html#cb116-16" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb116-17"><a href="data-visualization-in-r.html#cb116-17" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb116-18"><a href="data-visualization-in-r.html#cb116-18" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb116-19"><a href="data-visualization-in-r.html#cb116-19" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb116-20"><a href="data-visualization-in-r.html#cb116-20" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>),</span>
<span id="cb116-21"><a href="data-visualization-in-r.html#cb116-21" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb116-22"><a href="data-visualization-in-r.html#cb116-22" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb116-23"><a href="data-visualization-in-r.html#cb116-23" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb116-24"><a href="data-visualization-in-r.html#cb116-24" tabindex="-1"></a>  ))</span></code></pre></div>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a5ac4fbfbdf25c126ea0" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a5ac4fbfbdf25c126ea0">{"x":{"data":[{"x":[29.800000000000001,24.199999999999999,32.600000000000001,40.100000000000001,30,29.399999999999999,22.600000000000001,23.199999999999999,24.5,27,19.399999999999999,28.399999999999999,40.100000000000001,34.299999999999997,30.100000000000001,36.299999999999997,27.800000000000001,41.5,37.899999999999999,34,44.600000000000001,57.100000000000001,30.199999999999999,32.5,27.300000000000001,30.600000000000001,26.399999999999999,28,36.399999999999999,43.600000000000001,54.299999999999997,49.600000000000001,35.5,24.600000000000001,29.5,38.899999999999999,39.200000000000003,41.799999999999997,33.600000000000001,36.200000000000003,30.699999999999999,32.100000000000001,38.899999999999999,36.100000000000001,42.899999999999999,37.799999999999997,35.799999999999997,36.899999999999999,30.699999999999999,39.299999999999997,36.600000000000001,46.899999999999999,30.300000000000001,37.600000000000001,44.299999999999997,55,42,55.899999999999999,47.299999999999997,42.299999999999997,48.100000000000001,50,57.600000000000001,53,31.300000000000001,37.600000000000001,38.299999999999997,56.5,45.399999999999999,43,62.299999999999997,55.200000000000003,49.200000000000003,51.600000000000001,40.399999999999999,38.399999999999999,45.899999999999999,35.799999999999997,35,49.600000000000001,44,44.700000000000003,61.799999999999997,89,53,51.299999999999997],"y":[13.708195516354282,16.269841269841269,16.634127294025774,6.5491183879093207,14.29268292682927,8.9418196017180787,29.759837962962965,16.163349347975291,22.695852534562217,8.8566243194192378,28.124134109171511,7.2387149247661648,10.974822466107168,17.04180064308682,10.969899665551839,14.572360170554299,18.678938819707632,9.2436974789915975,19.454887218045112,12.486772486772486,12.772133526850508,4.7436878347360363,14.038910505836576,21.7688575209528,18.745247148288971,19.59101698009859,13.880067252008219,15.815899581589958,21.318879855465219,9.3412833617262923,7.014388489208633,13.920046016681049,66.114180478821353,25.315591948140568,26.273541216424821,22.552742616033751,10.960960960960961,42.823080591320931,18.737565563393019,25,24.145902902645773,19.477124183006534,15.026035209521449,17.584683357879232,14.165149760052952,16.449086161879894,22.973281571134962,12.211554657234291,20.319585402720794,13.69903197418598,18.13714540987268,10.562084100240693,19.944232462577048,10.611554266376602,19.425901201602137,7.2181670721816706,12.860266348638442,7.875457875457875,9.4618473895582316,10.417582417582418,12.805194805194803,20.17465293327362,3.4311012728278918,14.096267190569744,19.762461059190031,13.043478260869565,15.471394037066885,9.4045174537987695,4.4510940714419309,6.1928634621055743,5.1655629139072845,1.6427104722792607,11.76470588235294,15.187557182067705,21.831988609397246,3.325242718446602,9.7267485585359736,6.6835541699142631,12.908837856645791,2.3013460703430302,10.304219823356233,12.685992816829144,9.5434462444771722,55.555555555555557,5.183016105417277,14.552696078431374],"text":["median_age: 29.8<br />percent_bipoc: 13.708196<br />median_income:  42798<br />median_income:  42798","median_age: 24.2<br />percent_bipoc: 16.269841<br />median_income:  36000<br />median_income:  36000","median_age: 32.6<br />percent_bipoc: 16.634127<br />median_income:  72292<br />median_income:  72292","median_age: 40.1<br />percent_bipoc:  6.549118<br />median_income: 104006<br />median_income: 104006","median_age: 30.0<br />percent_bipoc: 14.292683<br />median_income:  64415<br />median_income:  64415","median_age: 29.4<br />percent_bipoc:  8.941820<br />median_income:  60250<br />median_income:  60250","median_age: 22.6<br />percent_bipoc: 29.759838<br />median_income:  40156<br />median_income:  40156","median_age: 23.2<br />percent_bipoc: 16.163349<br />median_income:  31958<br />median_income:  31958","median_age: 24.5<br />percent_bipoc: 22.695853<br />median_income:  40940<br />median_income:  40940","median_age: 27.0<br />percent_bipoc:  8.856624<br />median_income:  62750<br />median_income:  62750","median_age: 19.4<br />percent_bipoc: 28.124134<br />median_income:  22163<br />median_income:  22163","median_age: 28.4<br />percent_bipoc:  7.238715<br />median_income:  73361<br />median_income:  73361","median_age: 40.1<br />percent_bipoc: 10.974822<br />median_income:  86319<br />median_income:  86319","median_age: 34.3<br />percent_bipoc: 17.041801<br />median_income:  53646<br />median_income:  53646","median_age: 30.1<br />percent_bipoc: 10.969900<br />median_income:  60124<br />median_income:  60124","median_age: 36.3<br />percent_bipoc: 14.572360<br />median_income:  80074<br />median_income:  80074","median_age: 27.8<br />percent_bipoc: 18.678939<br />median_income:  55443<br />median_income:  55443","median_age: 41.5<br />percent_bipoc:  9.243697<br />median_income: 115786<br />median_income: 115786","median_age: 37.9<br />percent_bipoc: 19.454887<br />median_income:  64601<br />median_income:  64601","median_age: 34.0<br />percent_bipoc: 12.486772<br />median_income:  72083<br />median_income:  72083","median_age: 44.6<br />percent_bipoc: 12.772134<br />median_income:  95938<br />median_income:  95938","median_age: 57.1<br />percent_bipoc:  4.743688<br />median_income: 109583<br />median_income: 109583","median_age: 30.2<br />percent_bipoc: 14.038911<br />median_income:  60815<br />median_income:  60815","median_age: 32.5<br />percent_bipoc: 21.768858<br />median_income:  65786<br />median_income:  65786","median_age: 27.3<br />percent_bipoc: 18.745247<br />median_income:  67670<br />median_income:  67670","median_age: 30.6<br />percent_bipoc: 19.591017<br />median_income:  79398<br />median_income:  79398","median_age: 26.4<br />percent_bipoc: 13.880067<br />median_income:  54466<br />median_income:  54466","median_age: 28.0<br />percent_bipoc: 15.815900<br />median_income:  42606<br />median_income:  42606","median_age: 36.4<br />percent_bipoc: 21.318880<br />median_income:  92765<br />median_income:  92765","median_age: 43.6<br />percent_bipoc:  9.341283<br />median_income: 116797<br />median_income: 116797","median_age: 54.3<br />percent_bipoc:  7.014388<br />median_income: 162778<br />median_income: 162778","median_age: 49.6<br />percent_bipoc: 13.920046<br />median_income:  71406<br />median_income:  71406","median_age: 35.5<br />percent_bipoc: 66.114180<br />median_income:  36345<br />median_income:  36345","median_age: 24.6<br />percent_bipoc: 25.315592<br />median_income:  57273<br />median_income:  57273","median_age: 29.5<br />percent_bipoc: 26.273541<br />median_income:  61016<br />median_income:  61016","median_age: 38.9<br />percent_bipoc: 22.552743<br />median_income:  94844<br />median_income:  94844","median_age: 39.2<br />percent_bipoc: 10.960961<br />median_income: 105708<br />median_income: 105708","median_age: 41.8<br />percent_bipoc: 42.823081<br />median_income:  93600<br />median_income:  93600","median_age: 33.6<br />percent_bipoc: 18.737566<br />median_income:  95962<br />median_income:  95962","median_age: 36.2<br />percent_bipoc: 25.000000<br />median_income:  79304<br />median_income:  79304","median_age: 30.7<br />percent_bipoc: 24.145903<br />median_income:  84475<br />median_income:  84475","median_age: 32.1<br />percent_bipoc: 19.477124<br />median_income:  94110<br />median_income:  94110","median_age: 38.9<br />percent_bipoc: 15.026035<br />median_income: 101419<br />median_income: 101419","median_age: 36.1<br />percent_bipoc: 17.584683<br />median_income: 151655<br />median_income: 151655","median_age: 42.9<br />percent_bipoc: 14.165150<br />median_income:  68359<br />median_income:  68359","median_age: 37.8<br />percent_bipoc: 16.449086<br />median_income:  57222<br />median_income:  57222","median_age: 35.8<br />percent_bipoc: 22.973282<br />median_income: 100789<br />median_income: 100789","median_age: 36.9<br />percent_bipoc: 12.211555<br />median_income:  70230<br />median_income:  70230","median_age: 30.7<br />percent_bipoc: 20.319585<br />median_income:  77500<br />median_income:  77500","median_age: 39.3<br />percent_bipoc: 13.699032<br />median_income: 145178<br />median_income: 145178","median_age: 36.6<br />percent_bipoc: 18.137145<br />median_income: 153641<br />median_income: 153641","median_age: 46.9<br />percent_bipoc: 10.562084<br />median_income: 131728<br />median_income: 131728","median_age: 30.3<br />percent_bipoc: 19.944232<br />median_income:  94087<br />median_income:  94087","median_age: 37.6<br />percent_bipoc: 10.611554<br />median_income:  77426<br />median_income:  77426","median_age: 44.3<br />percent_bipoc: 19.425901<br />median_income:  80107<br />median_income:  80107","median_age: 55.0<br />percent_bipoc:  7.218167<br />median_income:  86802<br />median_income:  86802","median_age: 42.0<br />percent_bipoc: 12.860266<br />median_income:  86413<br />median_income:  86413","median_age: 55.9<br />percent_bipoc:  7.875458<br />median_income:  79697<br />median_income:  79697","median_age: 47.3<br />percent_bipoc:  9.461847<br />median_income:  99213<br />median_income:  99213","median_age: 42.3<br />percent_bipoc: 10.417582<br />median_income:  83555<br />median_income:  83555","median_age: 48.1<br />percent_bipoc: 12.805195<br />median_income:  62114<br />median_income:  62114","median_age: 50.0<br />percent_bipoc: 20.174653<br />median_income:  62286<br />median_income:  62286","median_age: 57.6<br />percent_bipoc:  3.431101<br />median_income:  91404<br />median_income:  91404","median_age: 53.0<br />percent_bipoc: 14.096267<br />median_income: 127875<br />median_income: 127875","median_age: 31.3<br />percent_bipoc: 19.762461<br />median_income:  56961<br />median_income:  56961","median_age: 37.6<br />percent_bipoc: 13.043478<br />median_income:  65726<br />median_income:  65726","median_age: 38.3<br />percent_bipoc: 15.471394<br />median_income:  66047<br />median_income:  66047","median_age: 56.5<br />percent_bipoc:  9.404517<br />median_income: 110227<br />median_income: 110227","median_age: 45.4<br />percent_bipoc:  4.451094<br />median_income:  89684<br />median_income:  89684","median_age: 43.0<br />percent_bipoc:  6.192863<br />median_income:  89000<br />median_income:  89000","median_age: 62.3<br />percent_bipoc:  5.165563<br />median_income:  73419<br />median_income:  73419","median_age: 55.2<br />percent_bipoc:  1.642710<br />median_income:  83438<br />median_income:  83438","median_age: 49.2<br />percent_bipoc: 11.764706<br />median_income: 119167<br />median_income: 119167","median_age: 51.6<br />percent_bipoc: 15.187557<br />median_income:  84808<br />median_income:  84808","median_age: 40.4<br />percent_bipoc: 21.831989<br />median_income:  91071<br />median_income:  91071","median_age: 38.4<br />percent_bipoc:  3.325243<br />median_income: 156511<br />median_income: 156511","median_age: 45.9<br />percent_bipoc:  9.726749<br />median_income: 109258<br />median_income: 109258","median_age: 35.8<br />percent_bipoc:  6.683554<br />median_income:  99531<br />median_income:  99531","median_age: 35.0<br />percent_bipoc: 12.908838<br />median_income:  95115<br />median_income:  95115","median_age: 49.6<br />percent_bipoc:  2.301346<br />median_income: 118083<br />median_income: 118083","median_age: 44.0<br />percent_bipoc: 10.304220<br />median_income: 111071<br />median_income: 111071","median_age: 44.7<br />percent_bipoc: 12.685993<br />median_income:  91677<br />median_income:  91677","median_age: 61.8<br />percent_bipoc:  9.543446<br />median_income:  75481<br />median_income:  75481","median_age: 89.0<br />percent_bipoc: 55.555556<br />median_income:  74034<br />median_income:  74034","median_age: 53.0<br />percent_bipoc:  5.183016<br />median_income:  85929<br />median_income:  85929","median_age: 51.3<br />percent_bipoc: 14.552696<br />median_income:  63438<br />median_income:  63438"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(70,51,127,1)","rgba(72,36,117,1)","rgba(46,110,142,1)","rgba(32,163,134,1)","rgba(52,96,141,1)","rgba(56,88,140,1)","rgba(71,46,124,1)","rgba(72,27,109,1)","rgba(71,47,125,1)","rgba(54,93,141,1)","rgba(68,1,84,1)","rgba(45,112,142,1)","rgba(37,133,142,1)","rgba(62,74,137,1)","rgba(56,88,140,1)","rgba(41,123,142,1)","rgba(61,78,138,1)","rgba(53,183,121,1)","rgba(52,96,141,1)","rgba(46,110,142,1)","rgba(31,150,139,1)","rgba(39,173,129,1)","rgba(56,89,140,1)","rgba(51,98,141,1)","rgba(49,102,142,1)","rgba(41,122,142,1)","rgba(61,77,138,1)","rgba(70,51,127,1)","rgba(33,145,140,1)","rgba(56,185,119,1)","rgba(253,231,37,1)","rgba(47,108,142,1)","rgba(72,37,118,1)","rgba(59,82,139,1)","rgba(56,89,140,1)","rgba(31,148,140,1)","rgba(34,167,133,1)","rgba(32,146,140,1)","rgba(31,150,139,1)","rgba(41,122,142,1)","rgba(38,130,142,1)","rgba(32,146,140,1)","rgba(31,160,136,1)","rgba(202,225,31,1)","rgba(49,103,142,1)","rgba(59,82,139,1)","rgba(31,159,136,1)","rgba(48,106,142,1)","rgba(42,118,142,1)","rgba(170,220,50,1)","rgba(211,226,27,1)","rgba(109,206,89,1)","rgba(32,146,140,1)","rgba(42,118,142,1)","rgba(41,123,142,1)","rgba(36,134,142,1)","rgba(36,134,142,1)","rgba(41,122,142,1)","rgba(30,156,137,1)","rgba(38,129,142,1)","rgba(55,91,141,1)","rgba(54,92,141,1)","rgba(33,143,141,1)","rgba(93,201,98,1)","rgba(59,81,139,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(40,174,128,1)","rgba(34,139,141,1)","rgba(35,138,141,1)","rgba(45,112,142,1)","rgba(38,129,142,1)","rgba(63,188,115,1)","rgba(37,131,142,1)","rgba(33,142,141,1)","rgba(225,228,24,1)","rgba(38,173,129,1)","rgba(30,156,137,1)","rgba(31,148,140,1)","rgba(59,187,117,1)","rgba(41,175,127,1)","rgba(33,143,141,1)","rgba(44,115,142,1)","rgba(45,113,142,1)","rgba(37,133,142,1)","rgba(53,94,141,1)"],"opacity":0.90000000000000002,"size":[9.777610782331049,9.0467292022305852,12.948634807556568,16.358340372620724,12.101745397957959,11.653948725242687,9.4935582470816495,8.6121567769928546,9.5778493854751119,11.922734243078986,7.559055118110237,13.063567494983371,14.456736591032476,10.943924901326319,11.640401935143736,13.785310367477402,11.137127931547051,17.624857732665365,12.121743040484979,12.926164338265455,15.490915749459422,16.957947105809943,11.714694252273688,12.249147375939383,12.451704142180819,13.712630763454465,11.032086551176624,9.7569680545612218,15.149773170221589,17.733554596078363,22.677165354330711,12.853377220035386,9.0838216036919945,11.33387893060322,11.736304607907726,15.373295206854257,16.541329553163674,15.239547533178913,15.493496090430646,13.702524427983821,14.258480393076422,15.294379778817516,16.080201118763721,21.48128482837345,12.525781430896503,11.328395706039361,16.012467168268977,12.726940512445189,13.508568798313147,20.784915308763164,21.694808043742604,19.338849222803876,15.291906952053427,13.500612746985194,13.78885833631284,14.508665953078449,14.466842926503119,13.744777511387687,15.84302477782497,14.159567322512665,11.854355207341429,11.872847650968565,15.003446334311509,18.924596982714572,11.300334497977248,12.242696523511315,12.277208584001496,17.027186255204573,14.818521898040133,14.744982180360122,13.069803318997174,14.146988160277925,17.988363266987175,14.294282624052217,14.967644103335713,22.003373818218677,16.923004988491218,15.877214295693751,15.402431556987709,17.871817866453359,17.117928246026104,15.032797712859233,13.291497614108552,13.135924556384902,14.414806050250014,11.996704017587534],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(70,51,127,1)","rgba(72,36,117,1)","rgba(46,110,142,1)","rgba(32,163,134,1)","rgba(52,96,141,1)","rgba(56,88,140,1)","rgba(71,46,124,1)","rgba(72,27,109,1)","rgba(71,47,125,1)","rgba(54,93,141,1)","rgba(68,1,84,1)","rgba(45,112,142,1)","rgba(37,133,142,1)","rgba(62,74,137,1)","rgba(56,88,140,1)","rgba(41,123,142,1)","rgba(61,78,138,1)","rgba(53,183,121,1)","rgba(52,96,141,1)","rgba(46,110,142,1)","rgba(31,150,139,1)","rgba(39,173,129,1)","rgba(56,89,140,1)","rgba(51,98,141,1)","rgba(49,102,142,1)","rgba(41,122,142,1)","rgba(61,77,138,1)","rgba(70,51,127,1)","rgba(33,145,140,1)","rgba(56,185,119,1)","rgba(253,231,37,1)","rgba(47,108,142,1)","rgba(72,37,118,1)","rgba(59,82,139,1)","rgba(56,89,140,1)","rgba(31,148,140,1)","rgba(34,167,133,1)","rgba(32,146,140,1)","rgba(31,150,139,1)","rgba(41,122,142,1)","rgba(38,130,142,1)","rgba(32,146,140,1)","rgba(31,160,136,1)","rgba(202,225,31,1)","rgba(49,103,142,1)","rgba(59,82,139,1)","rgba(31,159,136,1)","rgba(48,106,142,1)","rgba(42,118,142,1)","rgba(170,220,50,1)","rgba(211,226,27,1)","rgba(109,206,89,1)","rgba(32,146,140,1)","rgba(42,118,142,1)","rgba(41,123,142,1)","rgba(36,134,142,1)","rgba(36,134,142,1)","rgba(41,122,142,1)","rgba(30,156,137,1)","rgba(38,129,142,1)","rgba(55,91,141,1)","rgba(54,92,141,1)","rgba(33,143,141,1)","rgba(93,201,98,1)","rgba(59,81,139,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(40,174,128,1)","rgba(34,139,141,1)","rgba(35,138,141,1)","rgba(45,112,142,1)","rgba(38,129,142,1)","rgba(63,188,115,1)","rgba(37,131,142,1)","rgba(33,142,141,1)","rgba(225,228,24,1)","rgba(38,173,129,1)","rgba(30,156,137,1)","rgba(31,148,140,1)","rgba(59,187,117,1)","rgba(41,175,127,1)","rgba(33,143,141,1)","rgba(44,115,142,1)","rgba(45,113,142,1)","rgba(37,133,142,1)","rgba(53,94,141,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":46.153590701535919,"r":7.3059360730593621,"b":38.854296388542977,"l":35.931921959319226},"plot_bgcolor":"rgba(0,0,0,1)","paper_bgcolor":"rgba(0,0,0,1)","font":{"color":"rgba(255,255,255,1)","family":"","size":14.611872146118724},"title":{"text":"<b> Socioeconomic data for Larimer County <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":19.925280199252807},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[15.919999999999998,92.480000000000004],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(178,178,178,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(255,255,255,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"<b> Median Age <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":13.283520132835205}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.580863028047844,69.337753979148459],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[-2.2204460492503131e-16,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(178,178,178,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":true,"linecolor":"rgba(255,255,255,1)","linewidth":0.66417600664176002,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"<b> People of Color (%) <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":13.283520132835205}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(0,0,0,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(255,255,255,1)","family":"","size":10.62681610626816},"title":{"text":"Median Income","font":{"color":"rgba(255,255,255,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"15fea7271e03b":{"x":{},"y":{},"size":{},"colour":{},"type":"scatter"}},"cur_data":"15fea7271e03b","visdat":{"15fea7271e03b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Note that we removed the annotations as <code>plotly</code> doesn’t yet support them.</p>
<hr />
</div>
</div>
</div>
<div id="the-assignment" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> The Assignment<a href="data-visualization-in-r.html#the-assignment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This week’s assignment is to use anything you’ve learned today, in previous lessons and additional resources (if you want) to make two plots. One ‘good plot’ and one ‘bad plot’. Essentially you will first make a good plot, and then break all the rules of data viz and ruin it. For the bad map you <strong>must specify two things</strong> that are wrong with it (e.g., it is not color-blind friendly, jumbled labels, wrong plot for the job, poor legend or axis descriptions, etc.) Be as ‘poorly’ creative as you want! Check out <a href="https://twitter.com/NSilbiger/status/1642006283103662080?s=20">this thread</a> by Dr. Nyssa Silbiger and <a href="https://twitter.com/drdrewsteen/status/1172547837046820864?s=20">this thread</a> by Dr. Drew Steen for some bad plot examples, which were both the inspiration for this assignment.</p>
<p>You can create these plots with any data (e.g., the census data from today, the penguins data past lessons, or new ones!), the good (and bad) visualization just has to be something we have not made in class before.</p>
<p>To submit the assignment, create an R Markdown document that includes reading in of the data and libraries, and the code to make the good figure and the bad figure. You will render your assignment to Word or HTML (<strong>and make sure both code and plots are shown in the output</strong>), and don’t forget to add the two reasons (minimum) your bad figure is ‘bad’. You will then submit this rendered document on Canvas. (25 pts. total)</p>
<p><em>Note: the class will vote on the worst bad plot and the winner will receive 5 points of extra credit!</em></p>
<hr>
<div id="acknowledgements-and-resources" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Acknowledgements and Resources<a href="data-visualization-in-r.html#acknowledgements-and-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>ggplot2</code> content in this lesson was created with the help of <a href="https://www.yan-holtz.com/PDF/Ggplot2_advancedTP_correction.html#2-_annotation">Advanced data visualization with R and ggplot2</a> by Yan Holtz. For more information on working with census data in R check out <a href="https://walker-data.com/census-r/index.html">Analyzing US Census Data</a> by Kyle Walker (which includes a <a href="https://walker-data.com/census-r/exploring-us-census-data-with-visualization.html">visualization chapter</a>).</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exploratory-data-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-analysis-t-test-and-anova.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-viz.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
